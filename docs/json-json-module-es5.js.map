{"version":3,"sources":["webpack:///src/app/easy/json/json.module.ts","webpack:///src/app/easy/json/json.page.ts","webpack:///src/app/easy/json/json.page.html"],"names":["JsonPageModule","forChild","path","component","imports","declarations","JsonPage","rows","jsonValue","errorMessage","successMessage","nullCheck","jsonFormat","config","type","size","JSON","parse","error","message","clipboard","datetime","Date","now","fileName","FileSaver","file","File","saveAs","ionFocus","trim","format","copy","save","clear","selector","templateUrl","styleUrls"],"mappings":"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","file":"json-json-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { JsonPage } from './json.page';\r\nimport { RouterModule } from '@angular/router';\r\nimport { HeaderPageModule } from '../header/header.module';\r\nimport { FooterPageModule } from '../footer/footer.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    HeaderPageModule,\r\n    FooterPageModule,\r\n    RouterModule.forChild([\r\n      {\r\n        path: '',\r\n        component: JsonPage,\r\n      }\r\n    ])\r\n  ],\r\n  declarations: [JsonPage]\r\n})\r\nexport class JsonPageModule { }\r\n","import { Component } from '@angular/core';\r\nimport { formatDate } from '@angular/common';\r\n\r\n@Component({\r\n  selector: 'app-json',\r\n  templateUrl: 'json.page.html',\r\n  styleUrls: ['json.page.scss'],\r\n})\r\nexport class JsonPage {\r\n  // json文本框显示行数\r\n  rows = 20;\r\n  // json文本框值\r\n  jsonValue = '';\r\n  errorMessage = '';\r\n  successMessage = '';\r\n\r\n  constructor() {}\r\n\r\n  // 格式化\r\n  format() {\r\n    if(this.nullCheck()) return;\r\n    const jsonFormat = require('json-format');\r\n    /* using indent with spaces */\r\n    const config = {\r\n      type: 'space',\r\n      size: 2\r\n    };\r\n    try {\r\n      this.jsonValue = jsonFormat(JSON.parse(this.jsonValue), config);\r\n      this.errorMessage = '';\r\n      this.successMessage = '格式化完成';\r\n    } catch (error) {\r\n      this.successMessage = '';\r\n      this.errorMessage = error.message;\r\n    }\r\n  }\r\n\r\n  // 复制\r\n  copy() {\r\n    if(this.nullCheck()) return;\r\n    const clipboard = require('copy-to-clipboard');\r\n    clipboard(this.jsonValue);\r\n    this.errorMessage = '';\r\n    this.successMessage = '复制完成';\r\n  }\r\n\r\n  // 保存文件\r\n  save() {\r\n    if(this.nullCheck()) return;\r\n    const datetime = formatDate(Date.now(), 'MMddHHmmss', 'zh');\r\n    const fileName = 'reallyEasy_' + datetime + '.json';\r\n    const FileSaver = require('file-saver');\r\n    const file = new File([this.jsonValue], fileName, {type: \"text/plain;charset=utf-8\"});\r\n    FileSaver.saveAs(file);\r\n  }\r\n\r\n  // 清空\r\n  clear() {\r\n    if(this.nullCheck()) return;\r\n    this.jsonValue = '';\r\n    this.ionFocus();\r\n  }\r\n\r\n  // json 输入值变更\r\n  ionFocus() {\r\n    this.errorMessage = '';\r\n    this.successMessage = '';\r\n  }\r\n\r\n  // 空 check\r\n  nullCheck() {\r\n    if (this.jsonValue.trim() === '') {\r\n      this.successMessage = '';\r\n      this.errorMessage = '请输入需要转换的json字符串!';\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n}\r\n","<app-header></app-header>\r\n<ion-content [fullscreen]=\"true\">\r\n  <ion-grid>\r\n    <ion-row>\r\n      <ion-col>\r\n        <ion-item class=\"easy-ion-item\">\r\n          <ion-textarea id=\"easy-json-textarea\" placeholder=\"请输入需要转换的json字符串...\" (ionFocus)=\"ionFocus()\" autofocus=\"true\" inputmode=\"text\"\r\n            [rows]=\"rows\" [(ngModel)]=\"jsonValue\"></ion-textarea>\r\n        </ion-item>\r\n      </ion-col>\r\n    </ion-row>\r\n    <ion-row>\r\n      <ion-col>\r\n        <ion-button (click)=\"format()\">格式化</ion-button>\r\n        <ion-button (click)=\"copy()\" color=\"success\">复制</ion-button>\r\n        <ion-button (click)=\"save()\" color=\"success\">保存文件</ion-button>\r\n        <ion-button (click)=\"clear()\" color=\"danger\">清空</ion-button>\r\n      </ion-col>\r\n    </ion-row>\r\n    <ion-row>\r\n      <ion-col>\r\n        <pre *ngIf=\"errorMessage !== ''\" class=\"easy-error-block\">{{ errorMessage }}</pre>\r\n        <pre *ngIf=\"successMessage !== ''\" class=\"easy-success-block\">{{ successMessage }}</pre>\r\n      </ion-col>\r\n    </ion-row>\r\n  </ion-grid>\r\n  <app-footer></app-footer>\r\n</ion-content>"]}